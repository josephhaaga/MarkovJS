<html>
	<script   src="https://code.jquery.com/jquery-migrate-3.0.0.min.js"   integrity="sha256-JklDYODbg0X+8sPiKkcFURb5z7RvlNMIaE3RA2z97vw="   crossorigin="anonymous"></script>
	<body>
		<script>

			var input_text = "The quick brown fox jumped over the lazy dog. I dont know why the dog was so lazy, but the fox was quick and brown";


			var array_of_words = input_text.split(" ");

			console.log(array_of_words);

			var uniques = [];

			for(var i=0; i<array_of_words.length; i++){
				array_of_words[i] = array_of_words[i].toLowerCase();
				// remove periods
				array_of_words[i] = array_of_words[i].replace(".","");
				// remove commas
				array_of_words[i] = array_of_words[i].replace(",","");
				if(!uniques.includes(array_of_words[i])){
					uniques.push(array_of_words[i]);
				}
			}

			console.log(uniques);

			function count_of(input_word){
				return (input_text.split(input_word).length - 1);
			}

			// generate probabilities
			var probabilities = [];

			var individual_counts = {}


			// probability (j | i) = count(i + j) / count (i)

			for(var j=0; j<uniques.length; j++){
				// console.log(uniques[j] + " " + count_of(uniques[j]));
				individual_counts[uniques[j]] = count_of(uniques[j]);
			}

			var bigram = "";
			var first_word = "";
			var second_word = "";

			for(var k=0; k<array_of_words.length-1; k++){
				var temp = []
				first_word = array_of_words[k].toLowerCase();
				second_word = array_of_words[k+1].toLowerCase();
				bigram = first_word+" "+second_word;

				// probabilities[first_word][second_word] = (count_of(bigram)/count_of(first_word));

				temp[second_word] = (count_of(bigram)/count_of(first_word));

				console.log(probabilities[first_word]);

				if(probabilities[first_word]==undefined){
					probabilities[first_word] = temp;
				}else{
					probabilities[first_word].push(temp);
				}
				// The quick
				// quick brown
			}
			console.log(probabilities);

		</script>
	</body>
</html>